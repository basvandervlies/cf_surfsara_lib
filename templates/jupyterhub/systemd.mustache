### File is generated by CFengine
#

[Unit]
Description=SURF JupyterHub Service
Documentation=https://jupyterhub.readthedocs.io/en/stable/
Documentation=https://userinfo.surfsara.nl
After=network.target

[Service]
Type=simple
User=root
Group=root
RuntimeDirectory=jupyterhub-{{{name}}}
RuntimeDirectoryMode=0755
WorkingDirectory={{{hub_dir}}}/{{{hub_version}}}
#EnvironmentFile=/etc/default/jupyterhub
ExecStart={{{hub_dir}}}/bin/{{{name}}}.sh
#ExecStop=/usr/sbin/jupyterhub-backup "systemd service stop"

UMask=0027
ProtectSystem=full
ProtectControlGroups=true
PrivateTmp=true
LimitNOFILE=8192

# These might interfere with sudospawner or other hub components
#ProtectKernelTunables=true
#ProtectKernelModules=true
#PrivateDevices=true
#ProtectHome=tmpfs [34m~@~S only when using systemd-spawner!?

[Install]
WantedBy=multi-user.target

